<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class File_Passwd</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class File_Passwd</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
			</div>
	<div class="info-box-body">
		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Class to manage passwd-style files</p>
	<ul class="tags">
				<li><span class="field">deprecated:</span> <p><strong>Please use the provided factory instead!</strong></p><p><pre><br />1       <span class="src-var">$passwd</span> = <span class="src-sym">&amp;</span><a href="../File_Passwd/File_Passwd.html#methodFile_Passwd">File_Passwd</a><span class="src-sym">::</span><a href="../File_Passwd/File_Passwd.html#methodfactory">factory</a><span class="src-sym">(</span><span class="src-str">'Unix'</span><span class="src-sym">)</span>;</pre></p></li>
				<li><span class="field">version:</span> $Revision$</li>
				<li><span class="field">author:</span> Rasmus Lerdorf &lt;<a href="mailto:rasmus@php.net">mailto:rasmus@php.net</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_Passwd_Passwd_php.html">Program_Root/Passwd.php</a> (line <span class="field">35</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>


	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<div class="var-summary">
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$cvs" title="details" class="var-name">$cvs</a>
				</div>
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$filename" title="details" class="var-name">$filename</a>
				</div>
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$fplock" title="details" class="var-name">$fplock</a>
				</div>
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$locked" title="details" class="var-name">$locked</a>
				</div>
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$lockfile" title="details" class="var-name">$lockfile</a>
				</div>
								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$users" title="details" class="var-name">$users</a>
				</div>
							</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
								
				<div class="method-definition">
					<img src="../media/images/Constructor.png" alt=" "/>
											<span class="method-result">File_Passwd</span>
										<a href="#File_Passwd" title="details" class="method-name">File_Passwd</a>
											(<span class="var-type">$file</span>&nbsp;<span class="var-name">$file</span>, <span class="var-type">$lock</span>&nbsp;<span class="var-name">$lock</span>, [<span class="var-type">$lockfile</span>&nbsp;<span class="var-name">$lockfile</span> = <span class="var-default">""</span>])
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#addUser" title="details" class="method-name">addUser</a>
											(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>, [<span class="var-type">$cvs</span>&nbsp;<span class="var-name">$cvsuser</span> = <span class="var-default">""</span>])
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#close" title="details" class="method-name">close</a>
										()
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#delUser" title="details" class="method-name">delUser</a>
											(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>)
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">object File_Passwd_$class</span>
										<a href="#factory" title="details" class="method-name">&amp;factory</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$class</span>)
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#getCvsUser" title="details" class="method-name">getCvsUser</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$user</span>)
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#isLocked" title="details" class="method-name">isLocked</a>
										()
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#listUsers" title="details" class="method-name">listUsers</a>
										()
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#lock" title="details" class="method-name">lock</a>
										()
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#modUser" title="details" class="method-name">modUser</a>
											(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>, [<span class="var-type">$cvs</span>&nbsp;<span class="var-name">$cvsuser</span> = <span class="var-default">""</span>])
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#unlock" title="details" class="method-name">unlock</a>
										()
									</div>
								
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#verifyPassword" title="details" class="method-name">verifyPassword</a>
											(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>)
									</div>
							</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$cvs" id="$cvs"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$cvs</span>
						(line <span class="line-number">53</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">hash list of csv-users</p>
	
	
		
		

</div>
<a name="var$filename" id="$filename"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$filename</span>
						(line <span class="line-number">41</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Passwd file</p>
	
	
		
		

</div>
<a name="var$fplock" id="$fplock"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$fplock</span>
						(line <span class="line-number">59</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">filehandle for lockfile</p>
	
	
		
		

</div>
<a name="var$locked" id="$locked"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$locked</span>
						(line <span class="line-number">65</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">locking state</p>
	
	
		
		

</div>
<a name="var$lockfile" id="$lockfile"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$lockfile</span>
			 = <span class="var-default"> './passwd.lock'</span>			(line <span class="line-number">71</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">name of the lockfile</p>
	
	
		
		

</div>
<a name="var$users" id="$users"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$users</span>
						(line <span class="line-number">47</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Hash list of users</p>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodFile_Passwd" id="File_Passwd"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Constructor.png" />
		<span class="method-title">Constructor File_Passwd</span> (line <span class="line-number">91</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor</p>
<p class="description"><p>Requires the name of the passwd file. This functions opens the file and  read it. Changes to this file will written first in the lock file,  so it is still possible to access the passwd file by another programs.  The lock parameter controls the locking oft the lockfile, not of the  passwd file! (Swapping $lock and $lockfile would break BC).  Don't forget to call close() to save changes!</p></p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../File_Passwd/File_Passwd.html#methodclose">File_Passwd::close()</a></li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">File_Passwd</span>
		<span class="method-name">
			File_Passwd
		</span>
					(<span class="var-type">$file</span>&nbsp;<span class="var-name">$file</span>, <span class="var-type">$lock</span>&nbsp;<span class="var-name">$lock</span>, [<span class="var-type">$lockfile</span>&nbsp;<span class="var-name">$lockfile</span> = <span class="var-default">""</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$file</span>
				<span class="var-name">$file</span><span class="var-description">: name of the passwd file</span>			</li>
					<li>
				<span class="var-type">$lock</span>
				<span class="var-name">$lock</span><span class="var-description">: if 'true' $lockfile will be locked</span>			</li>
					<li>
				<span class="var-type">$lockfile</span>
				<span class="var-name">$lockfile</span><span class="var-description">: name of the temp file, where changes are saved</span>			</li>
				</ul>
		
		
	</div>
<a name="methodaddUser" id="addUser"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">addUser</span> (line <span class="line-number">131</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds a user</p>
	<ul class="tags">
				<li><span class="field">return:</span> returns PEAR_Error, if the user already exists</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			addUser
		</span>
					(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>, [<span class="var-type">$cvs</span>&nbsp;<span class="var-name">$cvsuser</span> = <span class="var-default">""</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$user</span>
				<span class="var-name">$user</span><span class="var-description">: new user id</span>			</li>
					<li>
				<span class="var-type">$pass</span>
				<span class="var-name">$pass</span><span class="var-description">: password for new user</span>			</li>
					<li>
				<span class="var-type">$cvs</span>
				<span class="var-name">$cvsuser</span><span class="var-description">: cvs user id (needed for pserver passwd files)</span>			</li>
				</ul>
		
		
	</div>
<a name="methodclose" id="close"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">close</span> (line <span class="line-number">211</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Writes changes to passwd file and unlocks it</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			close
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methoddelUser" id="delUser"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">delUser</span> (line <span class="line-number">171</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Deletes a user</p>
	<ul class="tags">
				<li><span class="field">return:</span> returns PEAR_Error, if the user doesn't exists</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			delUser
		</span>
					(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$user</span>
				<span class="var-name">$user</span><span class="var-description">: user id</span>			</li>
				</ul>
		
		
	</div>
<a name="methodfactory" id="factory"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">factory</span> (line <span class="line-number">288</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Factory for new extensions</p>
<p class="description"><p><ul><li>Unix        for standard Unix passwd files</li><li>CVS         for CVS pserver passwd files</li><li>Authbasic   for AuthUserFiles</li><li>Authdigest  for AuthDigestFiles</li></ul> Returns a PEAR_Error if the desired class/file couldn't be loaded</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> - desired Passwd object or PEAR_Error</li>
				<li><span class="field">author:</span> Michael Wallner &lt;<a href="mailto:mike@iworks.at">mailto:mike@iworks.at</a>&gt;</li>
				<li><span class="field">access:</span> public</li>
				<li><span class="field">throws:</span> PEAR_Error</li>
				<li><span class="field">static:</span> use &amp;File_Passwd::factory() for instantiating you passwd object</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">object File_Passwd_$class</span>
		<span class="method-name">
			&amp;factory
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$class</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$class</span><span class="var-description">: the desired subclass of File_Passwd</span>			</li>
				</ul>
		
		
	</div>
<a name="methodgetCvsUser" id="getCvsUser"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getCvsUser</span> (line <span class="line-number">267</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Get the CVS username</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getCvsUser
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$user</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$user</span><span class="var-description">: username</span>			</li>
				</ul>
		
		
	</div>
<a name="methodisLocked" id="isLocked"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">isLocked</span> (line <span class="line-number">256</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determine if lockfile is locked</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			isLocked
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodlistUsers" id="listUsers"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">listUsers</span> (line <span class="line-number">202</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Return all users from passwd file</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			listUsers
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodlock" id="lock"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">lock</span> (line <span class="line-number">233</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Lock the lockfile</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			lock
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodmodUser" id="modUser"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">modUser</span> (line <span class="line-number">152</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Modifies a user</p>
	<ul class="tags">
				<li><span class="field">return:</span> returns PEAR_Error, if the user doesn't exists</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			modUser
		</span>
					(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>, [<span class="var-type">$cvs</span>&nbsp;<span class="var-name">$cvsuser</span> = <span class="var-default">""</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$user</span>
				<span class="var-name">$user</span><span class="var-description">: user id</span>			</li>
					<li>
				<span class="var-type">$pass</span>
				<span class="var-name">$pass</span><span class="var-description">: new password for user</span>			</li>
					<li>
				<span class="var-type">$cvs</span>
				<span class="var-name">$cvsuser</span><span class="var-description">: cvs user id (needed for pserver passwd files)</span>			</li>
				</ul>
		
		
	</div>
<a name="methodunlock" id="unlock"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">unlock</span> (line <span class="line-number">244</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Unlock the lockfile</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			unlock
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodverifyPassword" id="verifyPassword"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">verifyPassword</span> (line <span class="line-number">189</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Verifies a user's password</p>
	<ul class="tags">
				<li><span class="field">return:</span> true if password is ok</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			verifyPassword
		</span>
					(<span class="var-type">$user</span>&nbsp;<span class="var-name">$user</span>, <span class="var-type">$pass</span>&nbsp;<span class="var-name">$pass</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$user</span>
				<span class="var-name">$user</span><span class="var-description">: user id</span>			</li>
					<li>
				<span class="var-type">$pass</span>
				<span class="var-name">$pass</span><span class="var-description">: password for user</span>			</li>
				</ul>
		
		
	</div>
						
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documention generated on Sat, 20 Sep 2003 16:14:42 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.2.1</a>
	</p>
	</div></body>
</html>